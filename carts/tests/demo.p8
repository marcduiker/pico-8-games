pico-8 cartridge // http://www.pico-8.com
version 29
__lua__
function _init()
	p_x=2
	p_y=2
	p_f=false // points to the right
end

function _update()
	local dest_x=p_x
	local dest_y=p_y
	
	if btnp(⬅️) then
	 dest_x-=1
	 p_f=true
 elseif btnp(➡️) then
		dest_x+=1
 	p_f=false
 elseif btnp(⬆️) then
		dest_y-=1
 elseif btnp(⬇️) then
		dest_y+=1
	elseif btnp(❎) then
	elseif btnp(🅾️) then
 end
		
 
 if hasmoved(dest_x, dest_y) then
		if isimmoveable(dest_x,dest_y) then
	 	sfx(0)
	 else
			sfx(1)
		end
 end
 
	if isimmoveable(dest_x,dest_y) then
	 -- blocking
 else
 	p_x=dest_x
	 p_y=dest_y
 end
 
 
 
 
end

function isimmoveable(x,y)
	local tile=mget(x,y)
	return fget(tile,0)
end

function hasmoved(x,y)
	return x!=p_x or y!=p_y
end


function _draw()
	cls(0)
	map(0,0)
	spr(1,p_x*8,p_y*8,1,1,p_f)
end


-->8

__gfx__
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000ddddd000dddd550000000000000000000000000000000000000000000000004442444000b0b0000000000000000000000000000000000000000000
0000000000d7d7d00dd00dd500000000000000000000000000000000000000000000000044424440000300000000000000000000000000000000000000000000
0000000000ddddd00d00ee500000000000000000000000000000000000000000000000002222222000033b000000000000000000000000000000000000000000
00000000ddddd99900dddeee00000000000000000000000000000000000000000000000042444440003333000000000000000000000000000000000000000000
00000000ddddddd00000dd0000000000000000000000000000000000000000000000000042444440003333000000000000000000000000000000000000000000
000000000dd2d2d005555d000000000000000e000eeeeeeee000000000000000000000002222222000b333000000000000000000000000000000000000000000
00000000000202000000000000000000000ee00ee0000000e000000000000000000000004444424000b33bb00000000000000000000000000000000000000000
00000000000000000000000000000000eee000e000000000e0000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000ee0000ee00000000000e000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000e00000e0000000000000ee00000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000e0000e000000000000000e00000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000e0000e000000000000000e00000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000e0000eee0000000000000e00000000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000e00000ee000000000000e00000000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000e0000000ee0000000000e00000000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000e000000000eeeee0000e000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000e0000000000000ee00ee000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000e00000000000000e00e0000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000e0000000000000e00e00000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000e0000000000eee00e000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000eee0000e000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000e00000000e00000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000ee000000000e00000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000ee0000000000e00000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000e00000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000e000000000000000000000000000000000000000000000000000000000000000000000000000000000
__label__
88888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
88888eeeeee888888888888888888888888888888888888888888888888888888888888888888888888ff8ff8888228822888222822888888822888888228888
8888ee888ee88888888888888888888888888888888888888888888888888888888888888888888888ff888ff888222222888222822888882282888888222888
888eee8e8ee88888e88888888888888888888888888888888888888888888888888888888888888888ff888ff888282282888222888888228882888888288888
888eee8e8ee8888eee8888888888888888888888888888888888888888888888888888888888888888ff888ff888222222888888222888228882888822288888
888eee8e8ee88888e88888888888888888888888888888888888888888888888888888888888888888ff888ff888822228888228222888882282888222288888
888eee888ee888888888888888888888888888888888888888888888888888888888888888888888888ff8ff8888828828888228222888888822888222888888
888eeeeeeee888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
1eee1e1e1ee111ee1eee1eee11ee1ee1111111111666166116661666117111711111111111111111111111111111111111111111111111111111111111111111
1e111e1e1e1e1e1111e111e11e1e1e1e111111111161161611611161171111171111111111111111111111111111111111111111111111111111111111111111
1ee11e1e1e1e1e1111e111e11e1e1e1e111111111161161611611161171111171111111111111111111111111111111111111111111111111111111111111111
1e111e1e1e1e1e1111e111e11e1e1e1e111111111161161611611161171111171111111111111111111111111111111111111111111111111111111111111111
1e1111ee1e1e11ee11e11eee1ee11e1e111116661666161616661161117111711111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
111116661111161611111cc111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
1111161611111616177711c111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
1111166611111161111111c111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
1111161111111616177711c111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
111116111666161611111ccc11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
111116661111161611111cc111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
1111161611111616177711c111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
1111166611111666111111c111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
1111161111111116177711c111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
111116111666166611111ccc11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
1eee1ee11ee111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
1e111e1e1e1e11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
1ee11e1e1e1e11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
1e111e1e1e1e11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
1eee1e1e1eee11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111711111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111771111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111777111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111777711111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111771111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111117111111111111111111111111111111111111111111111111111111111111111111111111
1eee1e1e1ee111ee1eee1eee11ee1ee1111111111616166616611666166616661171117111111111111111111111111111111111111111111111111111111111
1e111e1e1e1e1e1111e111e11e1e1e1e111111111616161616161616116116111711111711111111111111111111111111111111111111111111111111111111
1ee11e1e1e1e1e1111e111e11e1e1e1e111111111616166616161666116116611711111711111111111111111111111111111111111111111111111111111111
1e111e1e1e1e1e1111e111e11e1e1e1e111111111616161116161616116116111711111711111111111111111111111111111111111111111111111111111111
1e1111ee1e1e11ee11e11eee1ee11e1e111116661166161116661616116116661171117111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111118888811111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111eee1eee111111711bbb1bbb1bb11bbb117188666661117111111eee1ee11ee1111116161111171111111ccc117111111666111116161111111111111111
111111e11e11111117111b1b11b11b1b1b1b171186668166111711111e1e1e1e1e1e111116161111117111111c1c111711111616111116161111111117771111
111111e11ee1111117111bb111b11b1b1bbb171186688166111711111eee1e1e1e1e111111611111111711111c1c111711111666111111611111177711111111
111111e11e11111117111b1b11b11b1b1b11171186668166111711111e1e1e1e1e1e111116161111117111111c1c111711111611111116161111111117771111
11111eee1e11111111711bbb11b11b1b1b11117188666661117111111e1e1e1e1eee111116161111171111111ccc117111111611166616161111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111eee1eee111111711bbb1bbb1bb11bbb117111666661117111111eee1ee11ee1111116161111111711111cc11ccc1ccc1171111116661111161611111111
111111e11e11111117111b1b11b11b1b1b1b171116611666111711111e1e1e1e1e1e1111161611111171111111c1111c111c1117111116161111161611111171
111111e11ee1111117111bb111b11b1b1bbb171116611166111711111eee1e1e1e1e1111116111111711111111c11ccc111c1117111116661111116111111777
111111e11e11111117111b1b11b11b1b1b11171116611666111711111e1e1e1e1e1e1111161611111171111111c11c11111c1117111116111111161611111171
11111eee1e11111111711bbb11b11b1b1b11117111666661117111111e1e1e1e1eee111116161111111711111ccc1ccc111c1171111116111666161611111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111eee1eee111111711bbb1bbb1bb11bbb117111666661117111111eee1ee11ee1111116161111171111111ccc117111111666111116161111111111111111
111111e11e11111117111b1b11b11b1b1b1b171116611166111711111e1e1e1e1e1e111116161111117111111c1c111711111616111116161111111117771111
111111e11ee1111117111bb111b11b1b1bbb171116611166111711111eee1e1e1e1e111116661111111711111c1c111711111666111116661111177711111111
111111e11e11111117111b1b11b11b1b1b11171116661666111711111e1e1e1e1e1e111111161111117111111c1c111711111611111111161111111117771111
11111eee1e11111111711bbb11b11b1b1b11117111666661117111111e1e1e1e1eee111116661111171111111ccc117111111611166616661111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111eee1eee111111711bbb1bbb1bb11bbb1771117111666661117111111eee1ee11ee1111116161111111711111cc11ccc1ccc117111111666111116161111
111111e11e11111117111b1b11b11b1b1b1b1711171116661666111711111e1e1e1e1e1e1111161611111171111111c1111c111c111711111616111116161111
111111e11ee1111117111bb111b11b1b1bbb1711171116611166111711111eee1e1e1e1e1111166611111711111111c11ccc111c111711111666111116661111
111111e11e11111117111b1b11b11b1b1b111711171116611166111711111e1e1e1e1e1e1111111611111171111111c11c11111c111711111611111111161111
11111eee1e11111111711bbb11b11b1b1b111771117111666661117111111e1e1e1e1eee111116661111111711111ccc1ccc111c117111111611166616661111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
1eee1ee11ee111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
1e111e1e1e1e11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
1ee11e1e1e1e11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
1e111e1e1e1e11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
1eee1e1e1eee11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
1eee1e1e1ee111ee1eee1eee11ee1ee1111111111661166616661616117111711111111111111111111111111111111111111111111111111111111111111111
1e111e1e1e1e1e1111e111e11e1e1e1e111111111616161616161616171111171111111111111111111111111111111111111111111111111111111111111111
1ee11e1e1e1e1e1111e111e11e1e1e1e111111111616166116661616171111171111111111111111111111111111111111111111111111111111111111111111
1e111e1e1e1e1e1111e111e11e1e1e1e111111111616161616161666171111171111111111111111111111111111111111111111111111111111111111111111
1e1111ee1e1e11ee11e11eee1ee11e1e111116661666161616161666117111711111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111bbb1bbb1bbb11711cc111111ccc117111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111bbb1b1b1b1b171111c111111c1c111711111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111b1b1bbb1bbb171111c111111c1c111711111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111b1b1b1b1b11171111c111711c1c111711111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111b1b1b1b1b1111711ccc17111ccc117111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
111111bb1bbb1bbb11711cc1111116661111161617171ccc1111111116661111161617171ccc1171111111111111111111111111111111111111111111111111
11111b111b1b1b1b171111c1111116161111161611711c1c1111111116161111161611711c1c1117111111111111111111111111111111111111111111111111
11111bbb1bbb1bb1171111c1111116661111116117771ccc1111111116661111166617771ccc1117111111111111111111111111111111111111111111111111
1111111b1b111b1b171111c1117116111111161611711c1c1171111116111111111611711c1c1117111111111111111111111111111111111111111111111111
11111bb11b111b1b11711ccc171116111666161617171ccc1711111116111666166617171ccc1171111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
1eee1ee11ee111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
1e111e1e1e1e11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
1ee11e1e1e1e11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
1e111e1e1e1e11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
1eee1e1e1eee11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111
88888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
82888222822882228888822288828228822288888888888888888888888888888888888888888888888888888888822282228882822282288222822288866688
82888828828282888888828288288828828288888888888888888888888888888888888888888888888888888888888288828828828288288282888288888888
82888828828282288888822288288828822288888888888888888888888888888888888888888888888888888888888288828828822288288222822288822288
82888828828282888888828288288828888288888888888888888888888888888888888888888888888888888888888288828828828288288882828888888888
82228222828282228888822282888222888288888888888888888888888888888888888888888888888888888888888288828288822282228882822288822288
88888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888

__gff__
0000000000000000000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__map__
0909090909090909090909090909090900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0900000000000000000000000000000900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0900000000000000000000000000000900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0900000000000000000009090909000900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0900000000000000000a090a0a09000900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0900000000000a000a0009090909000900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
09000000000000000a0000000000000900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0909090909090000000009090909090900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0900000000000000000000000000000900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0900000000000000000000000000000900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0900000000000000000000000000000900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0900000000000000000000000000000900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0900000000000000000000000000000900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0900000000000000000000000000000900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0900000000000000000000000000000900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0909090909090909090909090909090900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__sfx__
000200001e030190201702016010130100f0100b0100d000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000200000a0100c0101002012020160201c0300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00080000150501f04021030230302202015010160101a02021030290402d0502d550215401453015530195501a550000000000000000000000000000000000000000000000000000000000000000000000000000
